<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>register</title>
    <style>
        body{
            margin: 0px;
            padding: 0px;
        }
        @font-face {
            font-family:sign;
            src: url(/Users/alansmathew/Desktop/Find/web/fonts/Signika.ttf);
        }
        @font-face {
            font-family:sign-bold;
            src: url(/Users/alansmathew/Desktop/Find/web/fonts/Signika-bold.ttf);
        }

        .right_container{
            width:60%;
            height:100vh;
            /* background-color:rgb(172, 172, 172); */
            float: right;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .right_inside_conatiner{
            position: relative;
            width:70%;
            height: auto;
            /* background-color: blueviolet; */

        }

        .typewriter{
            font-family: sign;
            font-weight: 100;
            font-size: 27px;
            position: relative;
            width: 100%;
            height:auto;
            line-height: 50px;
            color: rgba(17, 17, 17, 0.733);
            /* background-color: beige; */
        }
    
        .typewriter input{
            color:rgb(0, 0, 0);
            font-family: sign-bold;
            font-size: 27px;
            overflow: hidden;
            border: none;
            border-bottom: solid 2px rgb(68, 77, 202);
            outline: none;
            background-color: rgba(255, 255, 255, 0);
            animation:bg_color 1s ease-in-out;
            width:25ch;
            transition: width 2s;
        }

        @keyframes bg_color {
            from { width: 0;
                   border-bottom: solid 2px rgb(67, 77, 216); 
            }
            to { width: 25ch;
                 border-bottom: solid 2px rgb(68, 77, 202);  
            }
        }
        #create_account{
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s, opacity 0.6s linear;
            transition-delay: 1.2s;
            outline: none;
            cursor: pointer;
            width:300px;
            height:60px;
            position: relative;
            bottom:0px;
            margin-top: 40px;
            font-family: sign;
            color:white;
            font-size:larger;
            background-color: rgb(62, 118, 191);
            border-radius: 9px;
            border:none;
            box-shadow: 1px 5px 14px rgba(119, 127, 240, 0.426);
        }
        @keyframes show {
            from {display: none;}
            to {display: block;}
        }

        #create_account:active{
            outline: none;
        }
        #create_account:hover{
            box-shadow: none;
        }
       
    </style>

    <script>
        var nam=false
        var email=false
        var password=false
        var i = 0;
        var p = 0; 
        var txt = 'Your name is ';
        var speed = 40;
        function typeWriter() {
            if (i < txt.length) {
                var data= document.createTextNode(txt.charAt(i));
                document.getElementsByClassName('typewriter')[0].appendChild(data);
                i++;
                setTimeout(typeWriter, speed);
            }
            else if(p==0){
                var x = document.createElement("INPUT");
                x.setAttribute("type", "text");
                x.setAttribute("id", "name");
                x.setAttribute("onkeypress", "check_enter(event,'name','false')");
                x.setAttribute("onblur", "check_enter(event,'name','true')");
                x.setAttribute("onclick", "change_color('name')");
                document.getElementsByClassName('typewriter')[0].appendChild(x);
            }
            else if(p==1){
                var x = document.createElement("INPUT");
                x.setAttribute("type", "text");
                x.setAttribute("id", "email");
                x.setAttribute("onkeypress", "check_enter(event,'email','false')");
                x.setAttribute("onblur", "check_enter(event,'email','true')");
                x.setAttribute("onclick", "change_color('email')");
                document.getElementsByClassName('typewriter')[0].appendChild(x);
            }
            else if(p==2){
                var x = document.createElement("INPUT");
                x.setAttribute("type", "password");
                x.setAttribute("id", "password");
                x.setAttribute("onkeypress", "check_enter(event,'password','false')");
                x.setAttribute("onblur", "check_enter(event,'password','true')");
                x.setAttribute("onclick", "change_color('password')");
                document.getElementsByClassName('typewriter')[0].appendChild(x);
            }
        }

        function check_enter(event,id,flag) {
            if (event.keyCode == 13 || flag=='true'){
                field=document.getElementById(id)
                var len = field.value.length;
                if(validate(id)){
                    if(nam && password && email){
                        document.getElementById('create_account').style.cssText="visibility:visible;opacity:1;";
                    }
                    field.style.cssText="transition: width 1s;width:"+len+"ch;border-bottom: solid 2px rgba(42, 42, 42, 0.467);";
                    typeWriter();
                }
                else if (validate(id)==false){
                    field.style.cssText="border-bottom: solid 2px rgb(236, 70, 70);";
                }
                else{
                    if(nam && password && email){
                        document.getElementById('create_account').style.cssText="visibility:visible;opacity:1;";
                    }
                    field.style.cssText="transition: width 1s;width:"+len+"ch;border-bottom: solid 2px rgba(42, 42, 42, 0.467);";
                }
            }    
        }

        function validate(id){
            if(id=='name'){
                document.getElementById('create_account').style.cssText="visibility:hidden;opacity:0;";
                patt=/^([a-zA-Z\. ]{2,})+$/;
                var value = document.getElementById(id).value ;
                if(value.trim()=="" || !value.match(patt)){ 
                    nam=false ;
                    return false 
                }
                else if (txt.length < 14){
                    txt+=" and you would like to sign up with the email address ";
                    i--;
                    p++;
                    nam=true
                    return true ; 
                }
                else{
                    nam=true
                }
            }
            if(id=='email'){
                document.getElementById('create_account').style.cssText="visibility:hidden;opacity:0;";
                patt=/^([A-Za-z0-9\.]{4,30})+@[a-z.]+\.+[a-z]+$/;
                var value = document.getElementById(id).value ;
                if(value.trim()=="" || !value.match(patt)){ email=false ;return false }
                else if (txt.length < 68){
                    document.getElementsByClassName('typewriter')[0].appendChild(document.createElement("br"));
                    document.getElementsByClassName('typewriter')[0].appendChild(document.createElement("br"));
                    txt+="Create a strong password with a mix of some letter, symbol and numbers ";
                    i--;
                    p++;
                    email=true
                    return true ; 
                }
                else{
                    email=true
                }
            }
            if(id=='password'){
                document.getElementById('create_account').style.cssText="visibility:hidden;opacity:0;";
                patt=/^(?=.*[!@#$%^&*(),.?":\[\]{}|<>\ ])(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;
                var value = document.getElementById(id).value ;
                if(value.trim()=="" || !value.match(patt)){ 
                    password=false
                    return false 
                }
                else if (txt.length < 140){
                    document.getElementsByClassName('typewriter')[0].appendChild(document.createElement("br"))
                    txt+="Great, you are all set.";
                    i--;
                    p++;
                    password=true
                    // document.getElementById('create_account').style.cssText="visibility:visible;opacity:1;";
                    return true ; 
                }
                else{
                    password=true;
                    // document.getElementById('create_account').style.cssText="visibility:visible;opacity:1;";
                }
            }
        }

        function change_color(id){
            document.getElementById(id).style.cssText="border-bottom: solid 2px rgba(42, 42, 42, 0.767);"
        }
    </script>

</head>
<body onload="typeWriter()">
    <div class="right_container">
       <div class="right_inside_conatiner">
            <div class="typewriter" >
            </div>
            <button id="create_account">Create account</button>
       </div>
    </div>
</body>
</html>